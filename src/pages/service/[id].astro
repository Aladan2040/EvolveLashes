---
import Layout from '../../layouts/Layout.astro';
import Navbar from '../../components/Navbar.astro';
import Footer from '../../components/Footer.astro';
import serviceImg from '../../assets/service1.jpg';

// Función mágica de Astro para generar las rutas estáticas
export async function getStaticPaths() {
    // Aquí definimos tus 3 servicios principales
    const services = [
        {
            id: 'lifting',
            title: "Lifting de Pestañas",
            duration: "1h 15m",
            desc: "El tratamiento ideal para quienes buscan naturalidad. Elevamos tu pestaña desde la raíz creando una curvatura perfecta que abre tu mirada.",
            benefits: ["Efecto inmediato de mayor longitud", "Incluye tinte negro intenso", "Cero mantenimiento", "Duración de 6 a 8 semanas"],
            care: "No mojar las primeras 24 horas. Después vida normal."
        },
        {
            id: 'volumen',
            title: "Volumen Ruso",
            duration: "2h 30m",
            desc: "Para las amantes del glamour. Aplicamos abanicos hechos a mano de pestañas ultra finas para lograr una densidad espectacular.",
            benefits: ["Mirada impactante y densa", "Cubre huecos naturales", "Efecto delineado oscuro", "Personalizable"],
            care: "Lavar diariamente con Lash Shampoo y cepillar."
        },
        {
            id: 'rimel',
            title: "Efecto Rímel",
            duration: "1h 45m",
            desc: "La dosis justa de volumen. Simula pestañas maquilladas.",
            benefits: ["Look 'Wet' en tendencia", "Más notorio que las clásicas", "Ahorras tiempo en maquillaje"],
            care: "Evitar productos a base de aceite."
        }
    ];

    // Astro necesita que devolvamos un array con { params: { id: ... }, props: { ... } }
    return services.map(service => ({
        params: { id: service.id },
        props: { service },
    }));
}

// Obtenemos los datos del servicio actual
const { service } = Astro.props;
---

<Layout title={`${service.title} | EvolveLashes`}>
    <Navbar />

    <div class="pt-24 md:pt-32 pb-16 md:pb-20 bg-white min-h-screen">
        <div class="max-w-6xl mx-auto px-4 sm:px-6">
            <a href="/" class="mb-6 md:mb-8 inline-flex items-center gap-2 text-gray-500 hover:text-evolve-accent font-medium transition text-sm md:text-base">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
                </svg>
                Volver al Inicio
            </a>

            <div class="grid md:grid-cols-2 gap-8 md:gap-12 items-start">
                <div class="rounded-2xl md:rounded-[2.5rem] overflow-hidden shadow-2xl h-[300px] md:h-[500px] bg-gray-100">
                    <img src={serviceImg.src} class="w-full h-full object-cover" alt={service.title} />
                </div>

                <div>
                    <span class="text-evolve-accent font-bold uppercase tracking-widest text-[10px] md:text-xs">Detalle del Servicio</span>
                    <h1 class="text-2xl md:text-4xl lg:text-5xl font-bold text-evolve-dark mt-2 mb-4 md:mb-6">{service.title}</h1>
                    <p class="text-sm md:text-xl text-gray-600 leading-relaxed mb-6 md:mb-8 font-light">{service.desc}</p>

                    <div class="border-y border-gray-100 py-4 md:py-6 mb-6 md:mb-8 flex items-center gap-3 md:gap-4">
                        <div class="p-2.5 md:p-3 bg-evolve-gray rounded-full text-evolve-accent">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 md:h-6 md:w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
                            </svg>
                        </div>
                        <div>
                            <p class="text-[10px] md:text-xs uppercase text-gray-400 font-bold">Tiempo Estimado</p>
                            <p class="text-xl md:text-2xl font-bold text-evolve-dark">{service.duration}</p>
                        </div>
                    </div>

                    <div class="mb-6 md:mb-8">
                        <h3 class="font-bold text-evolve-dark text-base md:text-lg mb-3 md:mb-4">Beneficios Clave</h3>
                        <ul class="space-y-2 md:space-y-3">
                            {service.benefits.map((b) => (
                                <li class="flex items-start gap-2 md:gap-3 text-gray-600 text-sm md:text-base">
                                    <span class="text-evolve-accent mt-0.5">✦</span> {b}
                                </li>
                            ))}
                        </ul>
                    </div>

                    <div class="bg-evolve-gray p-4 md:p-6 rounded-xl md:rounded-2xl mb-6 md:mb-8">
                        <h4 class="font-bold text-evolve-dark mb-1 md:mb-2 text-xs md:text-sm uppercase">Cuidados Post-Servicio</h4>
                        <p class="text-xs md:text-sm text-gray-600 leading-relaxed">{service.care}</p>
                    </div>

                    <button
                        onclick={`window.open('https://wa.me/56975598631?text=Hola,%20quisiera%20agendar%20${service.title}', '_blank')`}
                        class="w-full bg-green-500 text-white py-3 md:py-4 rounded-full font-bold shadow-lg hover:bg-green-600 transition text-sm md:text-lg cursor-pointer flex items-center justify-center gap-2 md:gap-3"
                    >
                        <svg class="w-5 h-5 md:w-6 md:h-6" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"/>
                        </svg>
                        Cotizar este Servicio
                    </button>
                </div>
            </div>
        </div>
    </div>

    <Footer />
</Layout>